var vt=Object.defineProperty;var st=Object.getOwnPropertySymbols;var kt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var at=(a,t,e)=>t in a?vt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,G=(a,t)=>{for(var e in t||(t={}))kt.call(t,e)&&at(a,e,t[e]);if(st)for(var e of st(t))yt.call(t,e)&&at(a,e,t[e]);return a};import{r as wt,c as u,a as w,o as l,b as d,d as s,e as v,F as N,S as nt,f as $t,u as $,t as m,g as T,w as M,h as A,i as g,v as j,j as rt,k as F,l as U,n as C,m as S,p as Y,q as y,s as J,x as Q,M as X,y as ct,z as jt,A as St,B as it,C as It,D as L,E as xt,G as lt,H as Tt}from"./vendor.a5c503ae.js";const Pt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function e(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(c){if(c.ep)return;c.ep=!0;const i=e(c);fetch(c.href,i)}};Pt();const r=wt({user:{},account:{},sprints:[],currentSprint:{},projects:[],currentProject:{},backlogs:[],tasks:[],currentBacklog:{},notes:[]});var f=(a,t)=>{for(const[e,o]of t)a[e]=o;return a};const Bt={name:"App",setup(){return{appState:u(()=>r)}}},Nt={class:"bg-bg-grad"},At=s("footer",null,null,-1);function Ct(a,t,e,o,c,i){const n=w("Navbar"),h=w("router-view");return l(),d(N,null,[s("header",null,[v(n)]),s("main",Nt,[v(h)]),At],64)}var Ot=f(Bt,[["render",Ct]]);class P{constructor(t={}){this.name=t.name,this.startDate=t.startDate,this.endDate=t.endDate,this.id=t.id,this.projectId=t.projectId,this.creatorId=t.creatorId,this.isOpen=t.isOpen}}class B{constructor(t={}){this.name=t.name,this.description=t.description,this.status=t.status,this.id=t.id,this.projectId=t.projectId,this.sprintId=t.sprintId,this.creatorId=t.creatorId,this.creator=t.creator,this.color=t.color,this.weightTotal=t.weightTotal,this.edit=t.edit||!1}}class b{static async confirm(t="Are you sure?",e="You won't be able to revert this!",o="warning",c="Yes, delete it!"){try{return!!(await nt.fire({title:t,text:e,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c})).isConfirmed}catch{return!1}}static toast(t="Warning!",e="warning",o="top-end",c=3e3,i=!0){nt.fire({title:t,icon:e,position:o,timer:c,timerProgressBar:i,toast:!0,showConfirmButton:!1})}}const dt=window.location.origin.includes("localhost"),ut=dt?"http://localhost:3000":"",Et="kambrodian.us.auth0.com",Dt="https://Codeworks-Projects.com",Vt="D0EifSAMVS1uhGrDLJahpj4YDyhwNeXl";function D(a,t){if(dt)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...t);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...t)}}const p={log(){D("log",arguments)},error(){D("error",arguments)},warn(){D("warn",arguments)},assert(){D("assert",arguments)},trace(){D("trace",arguments)}},_=$t.create({baseURL:ut,timeout:8e3});class qt{async getSprints(t){const e=await _.get(`api/projects/${t}/sprints`);p.log(e,"Getting Sprints"),r.sprints=e.data.map(o=>new P(o))}async createSprint(t,e){const o=await _.post(`api/projects/${t}/sprints`,e);r.sprints=[...r.sprints,new P(o.data)]}async setSprint(t){r.currentSprint=r.sprints.find(e=>e.id===t)}async deleteSprint(t,e){await _.delete(`api/projects/${t}/sprints/${e}`),r.sprints=r.sprints.filter(o=>o.id!==e)}async editSprint(t,e){const o=await _.put(`api/projects/${t}/sprints/${e.id}`,e),c=r.sprints.findIndex(n=>n.id===e.id),i=new P(o.data);r.sprints.splice(c,1,i),r.currentSprint=i}async moveBacklogToSprint(t,e,o){await _.put(`api/projects/${t}/backlog/${o}`,e)}}const R=new qt,Mt={props:{sprint:{type:P,required:!0}},setup(a){const t=$();return{async moveBacklogToSprint(e){try{debugger;await R.moveBacklogToSprint(t.params.projectId,a.sprint.id,e)}catch(o){b.toast(o,"Failed to move backlog")}},account:u(()=>r.account),currentProject:u(()=>r.currentProject),sprintbacklogs:u(()=>r.backlogs.filter(e=>e.sprintId===a.sprint.id)),backlogs:u(()=>r.backlogs.filter(e=>e.backlogItemId===t.params.projectId)),currentsprint:u(()=>r.currentSprint),sprint:u(()=>r.sprints)}}},Ft={class:"row justify-content-center"},Ut={class:"col-md-8"},Lt={key:0},Rt=s("i",{class:"mdi mdi-circle text-success"},null,-1),zt=[Rt],Ht={key:1},Wt=s("i",{class:"mdi mdi-circle text-danger"},null,-1),Kt=[Wt],Gt=s("h1",null,"PROJECT BACKLOGS",-1),Yt=s("div",null,null,-1);function Jt(a,t,e,o,c,i){return l(),d("div",Ft,[s("div",Ut,[s("h3",null,m(o.sprint.name),1),s("p",null,[s("small",null,m(new Date(o.sprint.endDate).toLocaleDateString())+" - "+m(new Date(o.sprint.startDate).toLocaleDateString()),1)]),o.sprint.isOpen==!0?(l(),d("p",Lt,zt)):(l(),d("p",Ht,Kt))]),Gt,Yt])}var Qt=f(Mt,[["render",Jt]]),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qt});class Zt{async getBacklogs(t){const e=await _.get(`api/projects/${t}/backlog`);r.backlogs=e.data.map(o=>new B(o))}async createBacklogItem(t,e){const o=await _.post(`api/projects/${t}/backlog`,e);r.backlogs=[...r.backlogs,new B(o.data)]}async deleteBacklogItem(t,e){const o=await _.delete(`api/projects/${t}/backlog/${e}`);r.backlogs=r.backlogs.filter(c=>c.id!==e),p.log(o.data.message)}async editBacklogItem(t,e,o){const c=await _.put(`api/projects/${t}/backlog/${e}`,o),i=r.backlogs.findIndex(h=>h.id===e),n=new B(c.data);r.backlogs.splice(i,1,n),r.currentBacklog=n}async setBacklogItem(t){r.currentBacklog=r.backlogs.find(e=>e.id===t)}}const z=new Zt,te={props:{backlog:{type:B,default:()=>new B}},setup(a){const t=$(),e=T({});return M(()=>{e.value=G({},a.backlog)}),{currentBacklog:u(()=>r.currentBacklog),sprints:u(()=>r.sprints.filter(o=>o.projectId===r.currentProject.id)),notes:u(()=>r.notes.filter(o=>o.backlogItemId===r.currentBacklog.id)),editable:e,async editDetails(){try{await z.editBacklogItem(t.params.projectId,r.currentBacklog.id,e.value)}catch(o){b.toast(o.message,"error")}}}}},ee={class:"container-fluid w-100"},oe={class:"my-2"},se=s("label",{class:"form-label",for:"name"},"Update Backlog Item Name",-1),ae={class:"form-group"},ne=s("label",{for:"name"},null,-1),re=s("label",{for:"sprintId"},"Assign to Sprint: ",-1),ce=["value"],ie={class:"row"},le=s("label",{for:"pending"},"Pending",-1),de=s("label",{for:"in-progress"},"In-Progress",-1),ue=s("label",{for:"review"},"Review",-1),_e=s("label",{for:"done"},"Done",-1),me=s("div",{class:"btn-group"},[s("button",{type:"submit",class:"btn btn-success"},"Save"),s("button",{type:"reset",class:"btn btn-muted"},"Cancel")],-1);function pe(a,t,e,o,c,i){return l(),d("div",ee,[s("div",null,[s("form",{onSubmit:t[6]||(t[6]=A(n=>o.editDetails(),["prevent"]))},[s("div",oe,[se,s("div",ae,[ne,g(s("input",{type:"text",class:"form-control",name:"name",id:"name",placeholder:"Backlog Item Name","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.name=n),required:""},null,512),[[j,o.editable.name]])])]),re,g(s("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.editable.sprintId=n),id:"sprintId",name:"sprintId"},[(l(!0),d(N,null,F(o.sprints,n=>(l(),d("option",{key:n.id,value:n.id},m(n.name),9,ce))),128))],512),[[rt,o.editable.sprintId]]),s("div",ie,[g(s("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>o.editable.status=n),type:"radio",id:"pending",name:"status",value:"pending"},null,512),[[U,o.editable.status]]),le,g(s("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>o.editable.status=n),type:"radio",id:"in-progress",name:"status",value:"in-progress"},null,512),[[U,o.editable.status]]),de,g(s("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o.editable.status=n),type:"radio",id:"review",name:"status",value:"review"},null,512),[[U,o.editable.status]]),ue,g(s("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>o.editable.status=n),type:"radio",id:"done",name:"status",value:"done"},null,512),[[U,o.editable.status]]),_e]),me],32)])])}var ge=f(te,[["render",pe]]),be=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge});const he={props:{backlog:{type:B,required:!0}},setup(a){const t=$();return{async deleteBacklog(){try{await z.deleteBacklogItem(t.params.projectId,a.backlog.id)}catch(e){b.toast(e.message,"error")}},async getCurrentBacklogId(e){try{await z.setBacklogItem(e)}catch(o){b.toast(o.message,"error")}},account:u(()=>r.account),tasks:u(()=>r.tasks.filter(e=>e.backlogItemId===a.backlog.id)),backlogs:u(()=>r.backlogs),notes:u(()=>r.notes.filter(e=>e.backlogItemId===a.backlog.id))}}},I=a=>(J("data-v-551ed8aa"),a=a(),Q(),a),fe={class:"col-md-1"},ve=I(()=>s("i",{class:"mdi mdi-weight f-20 px-2"},null,-1)),ke={class:"col-md-3"},ye={class:"col-md-3"},we={class:"col-1"},$e=["data-bs-target"],je=I(()=>s("i",{class:"mdi mdi-plus-thick text-danger"},"Task ",-1)),Se=[je],Ie=I(()=>s("i",{class:"mdi mdi-plus-thick text-primary"},"Assign Sprint ",-1)),xe=[Ie],Te=["data-bs-target"],Pe=I(()=>s("i",{class:"mdi mdi-plus-thick text-danger"},"Note ",-1)),Be=[Pe],Ne=I(()=>s("i",{class:"mdi mdi-delete text-danger selectable"},null,-1)),Ae=[Ne],Ce={class:"container-fluid"},Oe={class:"row"},Ee={class:"col-md-6"},De={class:"col-md-6"},Ve=I(()=>s("h4",null,"Create task",-1)),qe=I(()=>s("h4",null,"Create task",-1)),Me=I(()=>s("h4",null,"Create note",-1));function Fe(a,t,e,o,c,i){const n=w("Task"),h=w("Note"),V=w("TaskForm"),q=w("Modal"),ht=w("BacklogDetails"),ft=w("NoteForm");return l(),d(N,null,[s("div",{class:C(["row m-auto",{"bg-danger":e.backlog.weightTotal>15},{"bg-warning":e.backlog.weightTotal<=15&&e.backlog.weightTotal>5},{"bg-success":e.backlog.weightTotal<=5},{"bg-dark text-white":e.backlog.weightTotal==0}])},[s("div",fe,[s("span",{class:C(["px-2",{"text-light":e.backlog.weightTotal==0}])},[S(m(e.backlog.weightTotal),1),ve],2)]),s("div",ke,[s("h1",{class:C({"text-light":e.backlog.weightTotal==0})},m(e.backlog.name),3)]),s("div",ye,[s("p",{class:C({"text-light":e.backlog.weightTotal==0})},"Details: "+m(e.backlog.description),3),s("h5",{class:C({"text-light":e.backlog.weightTotal==0})},"status:"+m(e.backlog.status),3)]),s("div",we,[s("button",{"data-bs-toggle":"modal","data-bs-target":"#task-form-"+e.backlog.id,class:"modal-btn mx-1 my-1"},Se,8,$e),s("button",{"data-bs-toggle":"modal","data-bs-target":"#assign-backlog-modal",onClick:t[0]||(t[0]=x=>o.getCurrentBacklogId(e.backlog.id))},xe),s("button",{"data-bs-toggle":"modal","data-bs-target":"#note-form-"+e.backlog.id,class:"modal-btn mx-1 my-1"},Be,8,Te)]),s("div",{class:"col-1",onClick:t[1]||(t[1]=x=>o.deleteBacklog())},Ae)],2),s("div",Ce,[s("div",Oe,[s("div",Ee,[(l(!0),d(N,null,F(o.tasks,x=>(l(),Y(n,{key:x.id,task:x},null,8,["task"]))),128))]),s("div",De,[(l(!0),d(N,null,F(o.notes,x=>(l(),Y(h,{key:x.id,note:x},null,8,["note"]))),128))])])]),s("footer",null,[v(q,{id:"add-to-sprint-"+e.backlog.id,backlog:e.backlog},{"modal-title":y(()=>[Ve]),"modal-body":y(()=>[v(V,{backlog:e.backlog},null,8,["backlog"])]),_:1},8,["id","backlog"]),v(q,{id:"assign-backlog-modal"},{"modal-title":y(()=>[s("h4",null,m(e.backlog.name),1)]),"modal-body":y(()=>[v(ht)]),_:1}),v(q,{id:"task-form-"+e.backlog.id,backlog:e.backlog},{"modal-title":y(()=>[qe]),"modal-body":y(()=>[v(V,{backlog:e.backlog},null,8,["backlog"])]),_:1},8,["id","backlog"]),v(q,{id:"note-form-"+e.backlog.id,backlog:e.backlog},{"modal-title":y(()=>[Me]),"modal-body":y(()=>[v(ft,{backlog:e.backlog},null,8,["backlog"])]),_:1},8,["id","backlog"])])],64)}var Ue=f(he,[["render",Fe],["__scopeId","data-v-551ed8aa"]]),Le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ue});const Re={setup(){const a=T({}),t=$();return{editable:a,route:t,async createBacklogItem(){try{await z.createBacklogItem(t.params.projectId,a.value),a.value={},X.getInstance(document.getElementById("backlogItem-form")).hide()}catch(e){b.toast(e.message,"error"),p.log(e.message)}}}}},ze={class:"form-group"},He=s("label",{for:"title"},"Name",-1),We={class:"form-group"},Ke=s("label",{for:"body"},"Description",-1),Ge={class:"form-group"},Ye=s("label",{for:"body"},"Status",-1),Je=s("option",{disabled:"",selected:"",value:""},"Status",-1),Qe=s("option",null,"pending",-1),Xe=s("option",null,"in-progress",-1),Ze=s("option",null,"review",-1),to=s("option",null,"done",-1),eo=[Je,Qe,Xe,Ze,to],oo=s("div",{class:"form-group"},[s("button",{type:"submit",class:"btn btn-success mt-2"},"Create")],-1);function so(a,t,e,o,c,i){return l(),d("form",{onSubmit:t[3]||(t[3]=A(n=>o.createBacklogItem(),["prevent"]))},[s("div",ze,[He,g(s("input",{type:"text",class:"form-control bg-light",name:"title",placeholder:"Backlog Item Name","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.name=n),required:""},null,512),[[j,o.editable.name]])]),s("div",We,[Ke,g(s("input",{type:"text",class:"form-control bg-light",name:"body",placeholder:"Backlog Item Description","onUpdate:modelValue":t[1]||(t[1]=n=>o.editable.description=n),required:""},null,512),[[j,o.editable.description]]),s("div",Ge,[Ye,g(s("select",{class:"form-control bg-light",name:"status",placeholder:"Backlog Item Description","onUpdate:modelValue":t[2]||(t[2]=n=>o.editable.status=n),required:""},eo,512),[[rt,o.editable.status]]),oo])])],32)}var ao=f(Re,[["render",so]]),no=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ao});const ro={setup(){return{}}},co={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},io={class:"modal-dialog"},lo={class:"modal-content"},uo={class:"modal-header"},_o={class:"modal-title",id:"exampleModalLabel"},mo=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),po={class:"modal-body"},go=s("div",{class:"modal-footer"},null,-1);function bo(a,t,e,o,c,i){return l(),d("div",co,[s("div",io,[s("div",lo,[s("div",uo,[s("h5",_o,[ct(a.$slots,"modal-title")]),mo]),s("div",po,[ct(a.$slots,"modal-body")]),go])])])}var ho=f(ro,[["render",bo]]),fo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ho});const vo="modulepreload",_t={},ko="/",O=function(t,e){return!e||e.length===0?t():Promise.all(e.map(o=>{if(o=`${ko}${o}`,o in _t)return;_t[o]=!0;const c=o.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":vo,c||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),c)return new Promise((h,V)=>{n.addEventListener("load",h),n.addEventListener("error",V)})})).then(()=>t())};function yo(a){switch(a){case"./pages/AboutPage.vue":return O(()=>import("./AboutPage.36af5d57.js"),["assets/AboutPage.36af5d57.js","assets/AboutPage.c198a90e.css","assets/vendor.a5c503ae.js"]);case"./pages/AccountPage.vue":return O(()=>import("./AccountPage.689adba7.js"),["assets/AccountPage.689adba7.js","assets/AccountPage.1d38451d.css","assets/vendor.a5c503ae.js"]);case"./pages/HomePage.vue":return O(()=>import("./HomePage.f054c06e.js"),["assets/HomePage.f054c06e.js","assets/HomePage.2e858bff.css","assets/vendor.a5c503ae.js"]);case"./pages/ProjectBacklogPage.vue":return O(()=>import("./ProjectBacklogPage.c1c2154f.js"),["assets/ProjectBacklogPage.c1c2154f.js","assets/vendor.a5c503ae.js"]);case"./pages/ProjectPage.vue":return O(()=>import("./ProjectPage.daa9870d.js"),["assets/ProjectPage.daa9870d.js","assets/vendor.a5c503ae.js"]);case"./pages/ProjectSprintPage.vue":return O(()=>import("./ProjectSprintPage.aa61060a.js"),["assets/ProjectSprintPage.aa61060a.js","assets/vendor.a5c503ae.js"]);default:return new Promise(function(t,e){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(e.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function E(a){return()=>yo(`./pages/${a}.vue`)}const wo=[{path:"/",name:"Home",component:E("HomePage")},{path:"/about",name:"About",component:E("AboutPage")},{path:"/account",name:"Account",component:E("AccountPage"),beforeEnter:it},{path:"/projects/:projectId",name:"Project",component:E("ProjectPage"),beforeEnter:it,children:[{path:"backlog",name:"Project.Backlog",component:E("ProjectBacklogPage")},{path:"sprints",name:"Project.Sprint",component:E("ProjectSprintPage")}]}],Z=jt({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:St(),routes:wo});class $o{async getAccount(){try{const t=await _.get("/account");r.account=t.data}catch(t){p.error("HAVE YOU STARTED YOUR SERVER YET???",t)}}}const jo=new $o,So={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Io{constructor(t=!1,e=ut){}on(t,e){var o;return(o=this.socket)==null||o.on(t,e.bind(this)),this}onConnected(t){p.log("[SOCKET_CONNECTION]",t),this.connected=!0,this.playback()}onAuthenticated(t){p.log("[SOCKET_AUTHENTICATED]",t),this.authenticated=!0,this.playback()}authenticate(t){var e;(e=this.socket)==null||e.emit(So.authenticate,t)}onError(t){p.error("[SOCKET_ERROR]",t)}enqueue(t,e){p.log("[ENQUEING_ACTION]",{action:t,payload:e}),this.queue.push({action:t,payload:e})}playback(){p.log("[SOCKET_PLAYBACK]");const t=[...this.queue];this.queue=[],t.forEach(e=>{this.emit(e.action,e.payload)})}emit(t,e=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(t,e);if(!this.connected)return this.enqueue(t,e);this.socket.emit(t,e)}}class xo extends Io{constructor(){super();this.on("error",this.onError)}onError(t){b.toast(t.message,"error")}}const mt=new xo,k=It({domain:Et,clientId:Vt,audience:Dt,useRefreshTokens:!0,onRedirectCallback:a=>{Z.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});k.on(k.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=k.bearer,_.interceptors.request.use(To),r.user=k.user,await jo.getAccount(),mt.authenticate(k.bearer)});async function To(a){if(!k.isAuthenticated)return a;const t=k.identity.exp*1e3,e=t<Date.now(),o=t<Date.now()+1e3*60*60*12;return e?await k.loginWithPopup():o&&(await k.getTokenSilently(),_.defaults.headers.authorization=k.bearer,mt.authenticate(k.bearer)),a}var Po="/assets/Trello-logo.fadd03f1.png";const Bo={setup(){return{user:u(()=>r.user),async login(){k.loginWithPopup()},async logout(){k.logout({returnTo:window.location.origin})}}}},H=a=>(J("data-v-79e1a8e9"),a=a(),Q(),a),No={class:"navbar navbar-expand-lg navbar-dark bg-bg-grad border-bottom border-dark"},Ao=H(()=>s("div",{class:"d-flex flex-column align-items-center"},[s("img",{alt:"logo",src:Po,height:"60"})],-1)),Co=H(()=>s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1)),Oo={class:"collapse navbar-collapse",id:"navbarText"},Eo={class:"navbar-nav me-auto"},Do=S(" Devs "),Vo={class:"navbar-text"},qo={key:1,class:"dropdown my-2 my-lg-0"},Mo={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Fo=["src"],Uo={class:"mx-3 text-success lighten-30"},Lo={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Ro=H(()=>s("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),zo=H(()=>s("i",{class:"mdi mdi-logout"},null,-1)),Ho=S(" logout "),Wo=[zo,Ho];function Ko(a,t,e,o,c,i){const n=w("router-link");return l(),d("nav",No,[v(n,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:y(()=>[Ao]),_:1}),Co,s("div",Oo,[s("ul",Eo,[s("li",null,[v(n,{to:{name:"About"},class:"btn text-success lighten-30 selectable text-uppercase"},{default:y(()=>[Do]),_:1})])]),s("span",Vo,[o.user.isAuthenticated?(l(),d("div",qo,[s("div",Mo,[s("img",{src:o.user.picture,alt:"user photo",height:"40",class:"rounded"},null,8,Fo),s("span",Uo,m(o.user.name),1)]),s("div",Lo,[v(n,{to:{name:"Account"}},{default:y(()=>[Ro]),_:1}),s("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:t[1]||(t[1]=(...h)=>o.logout&&o.logout(...h))},Wo)])])):(l(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:t[0]||(t[0]=(...h)=>o.login&&o.login(...h))}," Login "))])])])}var Go=f(Bo,[["render",Ko],["__scopeId","data-v-79e1a8e9"]]),Yo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Go});class tt{constructor(t){this.body=t.body,this.backlogItemId=t.backlogItemId,this.projectId=t.projectId,this.creatorId=t.creatorId,this.creator=t.creator,this.id=t.id}}class Jo{async getNotes(t){const e=await _.get(`api/projects/${t}/notes`);r.notes=e.data.map(o=>new tt(o))}async addNote(t,e){const o=await _.post(`api/projects/${t}/notes`,e);r.notes=[...r.notes,new tt(o.data)]}async deleteNote(t,e){await _.delete(`api/projects/${t}/notes/${e}`),r.notes=r.notes.filter(o=>o.id!==e)}}const pt=new Jo;const Qo={props:{note:{type:tt,required:!0}},setup(){const a=$();return{account:u(()=>r.account),async deleteNote(t){try{await pt.deleteNote(a.params.projectId,t)}catch(e){b.toast(e.message)}}}}},Xo={class:"card col-11 px-2 pt-2 m-3 sticky"},Zo={class:"row"},ts={class:"col d-flex align-items-center"},es=["src"],os={class:"ms-2"},ss={class:"row"},as={key:0,class:"d-flex justify-content-center"};function ns(a,t,e,o,c,i){return l(),d("div",Xo,[s("div",Zo,[s("div",ts,[s("img",{src:e.note.creator.picture,alt:"",style:{width:"45px"}},null,8,es),s("p",os,m(e.note.creator.name),1)])]),s("div",ss,[s("h1",null,m(e.note.body),1),o.account.id===e.note.creatorId?(l(),d("div",as,[s("i",{class:"mdi mdi-delete text-danger f-20",onClick:t[0]||(t[0]=n=>o.deleteNote(e.note.id))})])):L("",!0)])])}var rs=f(Qo,[["render",ns],["__scopeId","data-v-c039a004"]]),cs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rs});const is={props:{backlog:{type:Object,required:!0}},setup(a){const t=T({}),e=$();return{editable:t,route:e,async createNote(){try{t.value.backlogItemId=a.backlog.id,t.value.projectId=e.params.id,await pt.addNote(e.params.projectId,t.value),t.value={},X.getInstance(document.getElementById("note-form-"+a.backlog.id)).hide(),p.log(a,t)}catch(o){p.log(o),b.toast(o,"error")}}}}},ls={class:"component"},ds={class:"mb-3"},us={class:"form-group"},_s=s("label",{class:"pr-2",for:"note-body"},"Note body",-1),ms=s("label",{for:"title"},"Note",-1),ps=s("div",{class:"form-group"},[s("div",{class:"form-group"},[s("button",{type:"submit",class:"btn btn-success mt-2"},"Create")])],-1);function gs(a,t,e,o,c,i){return l(),d("div",ls,[s("div",ds,[s("form",{onSubmit:t[1]||(t[1]=A(n=>o.createNote(),["prevent"]))},[s("div",us,[_s,ms,g(s("input",{type:"text",class:"form-control bg-light",placeholder:"Note","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.body=n),required:""},null,512),[[j,o.editable.body]])]),ps],32)])])}var bs=f(is,[["render",gs]]),hs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bs});class W{constructor(t){this.name=t.name,this.description=t.description,this.creatorId=t.creatorId,this.id=t.id,this.createdAt=t.createdAt,this.creator=t.creator}}class fs{async getProjects(){const t=await _.get("api/projects/");r.projects=t.data.map(e=>new W(e))}async getProjectById(t){const e=await _.get("api/projects/"+t);r.currentProject=new W(e.data)}async createProject(t){const e=await _.post("api/projects",t);return r.projects.push(new W(e.data)),e.data.id}async editProject(t){const e=await _.put("api/projects/",t);r.projects=new W(e.data)}async deleteProject(t){await _.delete("api/projects/"+t),r.projects=r.projects.filter(e=>e.id!==t)}}const gt=new fs;const vs={setup(){const a=T({});return $(),M(()=>{a.value={}}),{account:u(()=>r.account),project:u(()=>r.projects),editable:a,async submitProjectForm(){try{const t=await gt.createProject(a.value);Z.push({name:"Project",params:{projectId:t}}),a.value={}}catch(t){b.toast(t.message,"error"),p.log("submit project form ",t)}}}}},et=a=>(J("data-v-20c5d072"),a=a(),Q(),a),ks={class:"form-group text-center"},ys=et(()=>s("label",{for:"name",class:""},"Name",-1)),ws={class:"form-group mt-4 text-center"},$s=et(()=>s("label",{for:"description",class:""},"Description",-1)),js=et(()=>s("div",{class:"button-group my-3 text-center"},[s("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"}," Create ")],-1));function Ss(a,t,e,o,c,i){return l(),d("form",{onSubmit:t[2]||(t[2]=A((...n)=>o.submitProjectForm&&o.submitProjectForm(...n),["prevent"]))},[s("div",ks,[ys,g(s("input",{type:"text",class:"form-control bg-white text-center",name:"name",id:"name",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.name=n),required:""},null,512),[[j,o.editable.name]])]),s("div",ws,[$s,g(s("input",{type:"text",class:"form-control description bg-white text-center",name:"description",id:"description",placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=n=>o.editable.description=n),required:""},null,512),[[j,o.editable.description]])]),js],32)}var Is=f(vs,[["render",Ss],["__scopeId","data-v-20c5d072"]]),xs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Is});const Ts={props:{project:{type:Object,required:!0}},setup(a){return{projects:u(()=>r.projects),account:u(()=>r.account),async deleteProject(t){try{if(!await b.confirm("Are you sure you"))return;await gt.deleteProject(a.project.id)}catch(e){b.toast(e.message,"error")}}}}},Ps={class:"container-fluid"},Bs={class:"row text-center card-header"},Ns={class:"col-md-3 m-3"},As={key:0},Cs=S(" Project lead: "),Os=["src"],Es={class:"col-md-3 card-content m-3"},Ds={class:"col-md-3 m-3"},Vs={class:"col-md-1"},qs={key:0,class:"",style:{right:"1rem",top:"1rem"}};function Ms(a,t,e,o,c,i){const n=w("router-link");return l(),d("div",Ps,[s("div",Bs,[s("div",Ns,[e.project.creator?(l(),d("p",As,[Cs,s("img",{src:e.project.creator.picture,class:"rounded-circle",height:"30"},null,8,Os),S(" "+m(e.project.creator.name),1)])):L("",!0),v(n,{to:{name:"Project",params:{projectId:e.project.id}},class:"selectable"},{default:y(()=>[s("h1",null,m(e.project.name),1)]),_:1},8,["to"])]),s("div",Es,[s("p",null,m(e.project.description),1)]),s("div",Ds,[s("p",null,m(new Date(e.project.createdAt).toDateString()),1)]),s("div",Vs,[o.account.id==e.project.creatorId?(l(),d("div",qs,[s("i",{class:"mdi mdi-delete text-danger f-20 selectable",onClick:t[0]||(t[0]=h=>o.deleteProject())})])):L("",!0)])])])}var Fs=f(Ts,[["render",Ms]]),Us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fs});const Ls={props:{sprint:{type:P,required:!0},backlog:{type:B,required:!1}},setup(a){const t=$();return{async moveBacklogToSprint(e){try{await R.moveBacklogToSprint(t.params.projectId,a.sprint.id,e)}catch(o){b.toast(o,"Failed to move backlog")}},account:u(()=>r.account),currentProject:u(()=>r.currentProject),backlogs:u(()=>r.backlogs.filter(e=>e.sprintId===a.sprint.id)),backlog:u(()=>r.backlogs.filter(e=>e.backlogItemId===t.params.projectId)),currentsprint:u(()=>r.currentSprint)}}},Rs={class:"row justify-content-center"},zs={class:"col-md-8"},Hs=s("p",null,null,-1),Ws={key:0},Ks=s("i",{class:"mdi mdi-circle text-success"},null,-1),Gs=[Ks],Ys={key:1},Js=s("i",{class:"mdi mdi-circle text-danger"},null,-1),Qs=[Js];function Xs(a,t,e,o,c,i){const n=w("BacklogItem");return l(),d("div",Rs,[s("div",zs,[s("button",{onClick:t[0]||(t[0]=h=>o.moveBacklogToSprint())},"Add Backlog to Sprint"),s("span",null,[Hs,s("h3",null,m(e.sprint.name),1)]),s("p",null,[s("small",null,m(new Date(e.sprint.endDate).toLocaleDateString())+" - "+m(new Date(e.sprint.startDate).toLocaleDateString()),1)]),e.sprint.isOpen==!0?(l(),d("p",Ws,Gs)):(l(),d("p",Ys,Qs))]),s("div",null,[(l(!0),d(N,null,F(o.backlogs,h=>(l(),Y(n,{key:h.id,backlog:h},null,8,["backlog"]))),128))])])}var Zs=f(Ls,[["render",Xs]]),ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zs});const ea={props:{},setup(a){return{sprints:computed(()=>r.sprints)}}},oa={class:"accordion accordion-flush",id:"accordionFlushExample"},sa=xt('<div class="accordion-item"><h2 class="accordion-header" id="flush-headingOne"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne-" aria-expanded="false" aria-controls="flush-collapseOne">Sprint </button></h2><div id="&#39;#flush-collapseOne-&#39; " class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample"><div class="accordion-body"></div></div></div>',1),aa=[sa];function na(a,t,e,o,c,i){return l(),d("div",oa,aa)}var ra=f(ea,[["render",na]]),ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const ia={props:{sprint:{type:P,default:()=>new P}},setup(a){const t=$(),e=T({});return M(()=>{e.value=G({},a.sprint),p.log("updating sprint info",a.sprint,e.value)}),{route:t,editable:e,project:u(()=>r.projects),async submitSprintForm(){try{e.value.id?await R.editSprint(t.params.projectId,e.value):(await R.createSprint(t.params.projectId,e.value),e.value={})}catch(o){b.toast(o.message,"error")}}}}},la={class:"form-group"},da=s("label",{for:"name",class:""},"Sprint Name:",-1),ua=s("br",null,null,-1),_a={class:"date-container",for:"startDate"},ma=s("i",{class:"mdi mdi-calendar selectable"},null,-1),pa=s("br",null,null,-1),ga=s("br",null,null,-1),ba={class:"date-container",for:"endDate"},ha=s("i",{class:"mdi mdi-calendar selectable"},null,-1),fa=s("br",null,null,-1),va=s("br",null,null,-1),ka=s("label",{for:"isOpen"},"Is this sprint open? ",-1),ya={key:0,class:"button-group my-3"},wa=s("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"}," Update ",-1),$a=[wa],ja={key:1,class:"button-group my-3"},Sa=s("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"}," Create ",-1),Ia=[Sa];function xa(a,t,e,o,c,i){return l(),d("form",{onSubmit:t[4]||(t[4]=A((...n)=>o.submitSprintForm&&o.submitSprintForm(...n),["prevent"])),class:"px-3"},[s("div",la,[da,g(s("input",{type:"text",class:"form-control",name:"name",id:"name",placeholder:"Name...","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.name=n),required:""},null,512),[[j,o.editable.name]])]),ua,s("div",null,[s("label",_a,[S("Sprint Start Date: "+m(new Date(o.editable.startDate).toDateString())+" ",1),ma,g(s("input",{type:"date",name:"startDate",id:"startDate","onUpdate:modelValue":t[1]||(t[1]=n=>o.editable.startDate=n)},null,512),[[j,o.editable.startDate]])])]),pa,ga,s("div",null,[s("label",ba,[S("Sprint End Date: "+m(new Date(o.editable.endDate).toDateString())+" ",1),ha,g(s("input",{type:"date",name:"endDate",id:"endDate","onUpdate:modelValue":t[2]||(t[2]=n=>o.editable.endDate=n)},null,512),[[j,o.editable.endDate]])])]),fa,va,ka,g(s("input",{class:"ms-2",type:"checkbox",name:"isOpen",id:"isOpen","onUpdate:modelValue":t[3]||(t[3]=n=>o.editable.isOpen=n)},null,512),[[lt,o.editable.isOpen]]),o.editable.id?(l(),d("div",ya,$a)):(l(),d("div",ja,Ia))],32)}var Ta=f(ia,[["render",xa]]),Pa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ta});class K{constructor(t){this.name=t.name,this.weight=t.weight,this.isComplete=t.isComplete,this.completedOn=t.completedOn,this.projectId=t.projectId,this.backlogItemId=t.backlogItemId,this.creatorId=t.creatorId,this.id=t.id}}class Ba{async getTasks(t){try{const e=await _.get(`api/projects/${t}/tasks`);r.tasks=e.data.map(o=>new K(o)),this.setWeight()}catch(e){p.error("No tasks Found",e)}}async getTask(t,e){try{const o=await _.get(`api/projects/${t}/tasks/${e}`);this.setWeight()}catch(o){p.error("No task Found",o)}}async createTask(t,e,o){try{o.backlogItemId=e;const c=await _.post(`api/projects/${t}/tasks`,o);return r.tasks=[...r.tasks,new K(c.data,t,e)],this.setWeight(),p.log(c.data,"\u26A0 creating task"),c.data.id}catch(c){p.error("Failed to make task",c)}}async deleteTask(t,e){try{const o=await _.delete(`api/projects/${t}/tasks/${e}`);r.tasks=r.tasks.filter(c=>c.id!==e),this.setWeight()}catch(o){p.error("No task deleted",o)}}async editTask(t,e){try{const o=await _.put(`api/projects/${t}/tasks/${e} `);r.tasks=new K(o.data)}catch(o){p.error("No task deleted",o)}}async checkTask(t,e,o){const c=await _.put(`api/projects/${t}/tasks/${e}`,o);p.log("if checkbox",c.data),p.log("taskData",o)}setWeight(){let t=0,e=[];for(let o=0;o<r.backlogs.length;o++){e=r.tasks.filter(c=>c.backlogItemId===r.backlogs[o].id);for(let c=0;c<e.length;c++)t+=e[c].weight;r.backlogs[o].weightTotal=t,t=0}r.backlogs.weightTotal=t}}const ot=new Ba,Na={props:{task:{type:K,required:!0}},setup(a){const t=$(),e=T({});return M(()=>{e.value=a.task}),{editable:e,route:t,async deleteTask(o){!await b.confirm("are you positive you want to delete this?")||(await ot.deleteTask(t.params.projectId,o),b.toast("Deleted","success"))},async checked(){try{await ot.checkTask(t.params.projectId,a.task.id,e.value)}catch(o){b.toast(o.message,"error"),logger.log("checked",o.message)}},account:u(()=>r.account),tasks:u(()=>r.tasks)}}},Aa={class:"card justify-content-between m-3"},Ca=s("i",{class:"mdi mdi-delete text-danger selectable"},null,-1),Oa=[Ca],Ea={class:"card-body"},Da={class:"card-body"},Va=s("p",null,"Completed:",-1);function qa(a,t,e,o,c,i){return l(),d("div",Aa,[s("div",{class:C(["card-header bg-secondary text-center",{"bg-danger":e.task.weight>=4},{"bg-warning":e.task.weight==3},{"bg-success":e.task.weight<3}])},[e.task.creatorId===o.account.id?(l(),d("button",{key:0,class:"btn",onClick:t[0]||(t[0]=n=>o.deleteTask(e.task.id))},Oa)):L("",!0),S(" "+m(e.task.name),1)],2),s("div",Ea,"Weight: "+m(e.task.weight),1),s("div",Da,[Va,g(s("input",{onChange:t[1]||(t[1]=n=>o.checked()),"onUpdate:modelValue":t[2]||(t[2]=n=>o.editable.isComplete=n),"true-value":"true","false-value":"false",type:"checkbox"},null,544),[[lt,o.editable.isComplete]])])])}var Ma=f(Na,[["render",qa]]),Fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ma});const Ua={props:{backlog:{type:Object,required:!0}},setup(a){const t=T({}),e=$();return{editable:t,route:e,async createTask(){try{p.log(a.backlog.id,"this is the backlog id"),t.value.backlogItemId=a.backlog.id,await ot.createTask(e.params.projectId,a.backlog.id,t.value),t.value={},X.getInstance(document.getElementById("task-form-"+a.backlog.id)).hide()}catch(o){b.toast(o.message,"error"),p.log("error")}}}}},La={class:"form-group"},Ra=s("label",{for:"title"},"Name",-1),za={class:"form-group"},Ha=s("label",{for:"body"},"weight",-1),Wa=s("div",{class:"form-group"},[s("button",{type:"submit",class:"btn btn-success mt-2"},"Create")],-1);function Ka(a,t,e,o,c,i){return l(),d("form",{onSubmit:t[2]||(t[2]=A(n=>o.createTask(),["prevent"]))},[s("div",La,[Ra,g(s("input",{type:"text",class:"form-control bg-light",name:"title",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=n=>o.editable.name=n),required:""},null,512),[[j,o.editable.name]])]),s("div",za,[Ha,g(s("input",{type:"Number",class:"form-control bg-light",name:"body",placeholder:"Weight","onUpdate:modelValue":t[1]||(t[1]=n=>o.editable.weight=n),required:""},null,512),[[j,o.editable.weight]]),Wa])],32)}var Ga=f(Ua,[["render",Ka]]),Ya=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ga});function Ja(a){Object.entries({"./components/AccordianSprint.vue":Xt,"./components/BacklogDetails.vue":be,"./components/BacklogItem.vue":Le,"./components/BacklogItemForm.vue":no,"./components/Modal.vue":fo,"./components/Navbar.vue":Yo,"./components/Note.vue":cs,"./components/NoteForm.vue":hs,"./components/ProjectForm.vue":xs,"./components/Projects.vue":Us,"./components/Sprint.vue":ta,"./components/SprintAccordian.vue":ca,"./components/SprintForm.vue":Pa,"./components/Task.vue":Fa,"./components/TaskForm.vue":Ya}).forEach(([e,o])=>{const c=o.name||e.substr(e.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(c,o.default)})}const bt=Tt(Ot);Ja(bt);bt.use(Z).mount("#app");export{r as A,b as P,f as _,z as b,p as l,pt as n,gt as p,R as s,ot as t};
